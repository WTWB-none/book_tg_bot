# –î–µ–ø–ª–æ–π –Ω–∞ Netlify

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Netlify –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–æ–±—Ä–∞–Ω–Ω–æ–µ –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
- **API**: Serverless —Ñ—É–Ω–∫—Ü–∏–∏ (AWS Lambda) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite —Ñ–∞–π–ª, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ serverless —Ñ—É–Ω–∫—Ü–∏–∏
- **–ë–æ—Ç**: –û—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ/VPS –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞)
sqlite3 app.db < create_tables.sql

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
./deploy-netlify.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –°–æ–±–µ—Ä–µ—Ç Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è serverless —Ñ—É–Ω–∫—Ü–∏–π (better-sqlite3)
- –°–∫–æ–ø–∏—Ä—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ serverless —Ñ—É–Ω–∫—Ü–∏–∏

### 2. –°–æ–∑–¥–∞–Ω–∏–µ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ Git (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
git init

# –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã
git add .

# –°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –∫–æ–º–º–∏—Ç
git commit -m "Initial commit for Netlify deployment"

# –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub/GitLab
# –ò –¥–æ–±–∞–≤—å—Ç–µ remote:
git remote add origin https://github.com/yourusername/your-repo.git
git push -u origin main
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Netlify

1. **–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç** –Ω–∞ [netlify.com](https://netlify.com)

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:

   - –ù–∞–∂–º–∏—Ç–µ "New site from Git"
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à Git –ø—Ä–æ–≤–∞–π–¥–µ—Ä
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏:
     - Build command: `cd webapp && npm install && npm run build`
     - Publish directory: `webapp/dist`

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Site settings ‚Üí Environment variables
   - –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `NETLIFY_ENV_VARS.md`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è URL –≤–∞—à–µ–≥–æ Netlify —Å–∞–π—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://amazing-book-bot.netlify.app`):

1. –û–±–Ω–æ–≤–∏—Ç–µ `bot/config.py`:

```python
SERVER_URL = "https://amazing-book-bot.netlify.app/"
```

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Mini App

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. Bot Settings ‚Üí Menu Button ‚Üí Configure Menu Button
4. –í–≤–µ–¥–∏—Ç–µ URL: `https://amazing-book-bot.netlify.app/`
5. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç: "üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞"

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```
your-site.netlify.app/
‚îú‚îÄ‚îÄ index.html (Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
‚îú‚îÄ‚îÄ assets/ (JS, CSS —Ñ–∞–π–ª—ã)
‚îî‚îÄ‚îÄ .netlify/functions/
    ‚îú‚îÄ‚îÄ books.js (API: /api/books)
    ‚îú‚îÄ‚îÄ book.js (API: /api/book/{id})
    ‚îú‚îÄ‚îÄ chapter.js (API: /api/book/{id}/chapter/{id})
    ‚îú‚îÄ‚îÄ verify.js (API: /api/verify/{uid})
    ‚îú‚îÄ‚îÄ database.js (–º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î)
    ‚îî‚îÄ‚îÄ app.db (SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
```

## API Endpoints

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ API:

- `GET /api/books` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–Ω–∏–≥
- `GET /api/book/{id}` - –¥–µ—Ç–∞–ª–∏ –∫–Ω–∏–≥–∏ —Å –≥–ª–∞–≤–∞–º–∏
- `GET /api/book/{id}/chapter/{chapter_id}` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–ª–∞–≤—ã
- `GET /api/verify/{telegram_user_id}` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

- Netlify Dashboard ‚Üí Functions ‚Üí View logs
- –ò–ª–∏ —á–µ—Ä–µ–∑ Netlify CLI: `netlify functions:log`

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- Netlify Dashboard ‚Üí Analytics
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

1. –û–±–Ω–æ–≤–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π `app.db` –≤ `netlify/functions/`
3. –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç –∏ –ø—É—à:

```bash
git add netlify/functions/app.db
git commit -m "Update database"
git push
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Netlify

### Serverless —Ñ—É–Ω–∫—Ü–∏–∏:

- –ú–∞–∫—Å–∏–º—É–º 10 —Å–µ–∫—É–Ω–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- 128MB –ø–∞–º—è—Ç–∏
- 1024MB –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:

- SQLite —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–µ–Ω—å—à–µ 1GB
- –î–ª—è –±–æ–ª—å—à–∏—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–Ω–µ—à–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è (PlanetScale, Supabase)

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ SQLite –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:

1. **PlanetScale** (MySQL)
2. **Supabase** (PostgreSQL)
3. **FaunaDB** (NoSQL)
4. **MongoDB Atlas**

## Troubleshooting

### –û—à–∏–±–∫–∞ "Function not found"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `netlify/functions/`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `netlify.toml` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –û—à–∏–±–∫–∞ "Database not found"

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `app.db` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `netlify/functions/`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É

### CORS –æ—à–∏–±–∫–∏

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –≤ serverless —Ñ—É–Ω–∫—Ü–∏—è—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ SQL –∑–∞–ø—Ä–æ—Å—ã
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
